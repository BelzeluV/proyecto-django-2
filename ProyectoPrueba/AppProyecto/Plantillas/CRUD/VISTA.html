{% extends "PlantillaPadreCRUD.html"%}
{% load static %}
{% load humanize %}
{% block title %} Administrador | Visualizador de Productos {% endblock %}
{% block content%} 

        {% if mensaje %}
            <div class="bd-callout bd-callout-warning">Se ha registrado correctamente</div>
        {% endif %}
        
        <div class="container-fluid py-4">
            <div class="d-grid gap-2">
                
            </div>
            <div class="row">
                
                <div class="col-8 py-2 offset-2">
                    <div class="d-grid gap-2">
                        <a href="{% url 'agregar'%}" class="btn btn-primary">Agregar Nuevo</a>
                    </div>
                    <div class="card">
                    <div class="card-body">
                    <h1 >Productos Ingresados</h1>
                    <div class="py-5">
                        <table class="table table-striped ">
                            <thead>
                                <tr>
                                    <th scope="col" style="text-align:center">id</th>
                                    <th scope="col" style="text-align:center">Nombre</th>
                                    <th scope="col" style="text-align:center">Precio</th>
                                    <th scope="col" style="text-align:center">Categoria</th>
                                    <th scope="col" style="text-align:center">Stock</th>
                                    <th scope="col" style="text-align:center">imagen</th>
                                    <th scope="col" style="text-align:center">Opciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for l in entity %}
                                <tr>
                                    <th scope="row">{{l.id_producto}}</th>
                                    <td>{{l.nombre_producto}}</td>
                                    <td>${{ l.precio | intcomma }}</td>
                                    <td>
                                        {%if l.categoria == 0 %}
                                            macetas
                                        {% elif l.categoria == 1 %}
                                            Plantas
                                        {% elif l.categoria == 2 %}
                                            Herramientas
                                        {% elif l.categoria == 3 %}
                                            tierras
                                        {% endif%}
                                    </td>
                                    <td>x{{l.stock}}</td>
                                    <td><img src="{{ l.FotoProducto.url }}" width="100" height="100"></td>
                                    <td>
                                        <div class="btn-group">
                                            <a href="{% url 'modificar' l.id_producto %}" class="btn btn-warning">Modificar</a>
                                            <a href="{% url 'eliminar' l.id_producto %}" class="btn btn-danger">eliminar</a>
                                        </div>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    <div>
                        {% include 'paginator.html'%}
                    </div>
                    </div>
                    </div>
                </div>
            </div>
        </div>
        {% endblock %} 
    </body>
    
</html>